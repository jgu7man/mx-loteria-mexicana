<div
     class="player-container min-h-screen bg-gradient-to-br from-green-600 to-teal-700 p-4 md:p-6 xl:p-8">
  
  <!-- Podium overlay -->
  <app-podium
    *ngIf="showPodium()"
    [winners]="currentRoundWinners()"
    [roundNumber]="room()?.currentRound || 0"
    [maxRounds]="room()?.config?.maxRounds || 0"
    [isLastRound]="room()?.state === 'finished'">
  </app-podium>

  <!-- Join form -->
  <app-player-join-form
    *ngIf="showJoinForm()"
    [(displayName)]="displayName"
    [(roomId)]="roomId"
    (signInAnonymously)="signInAnonymously()"
    (signInWithGoogle)="signInWithGoogle()">
  </app-player-join-form>

  <!-- Marker selector -->
  <div *ngIf="showMarkerSelector()" class="max-w-2xl mx-auto">
    <div class="bg-white rounded-2xl shadow-2xl p-8">
      <div *ngIf="selectedMarker() || myTabla().length > 0" class="mb-4">
        <button
          (click)="cancelMarkerSelection()"
          class="bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-semibold hover:bg-gray-300 transition">
          ‚Üê Cancelar
        </button>
      </div>
      <app-marker (markerSelected)="onMarkerSelected($event)"></app-marker>
    </div>
  </div>

  <!-- Tabla selector -->
  <app-player-tabla-selector
    *ngIf="showTablaSelector()"
    [availableTablas]="availableTablas()"
    [showCancelButton]="myTabla().length > 0"
    (tablaSelected)="selectTabla($event)"
    (cancel)="cancelTablaSelection()">
  </app-player-tabla-selector>

  <!-- Game view -->
  <app-player-game-board
    *ngIf="!showJoinForm() && !showMarkerSelector() && !showTablaSelector()"
    [room]="room()"
    [currentCard]="currentCard()"
    [historyCards]="historyCards()"
    [myTabla]="myTabla()"
    [myMarks]="myMarks()"
    [selectedMarker]="selectedMarker()?.emoji || 'ü´ò'"
    [roomId]="roomId"
    (cardClicked)="onCardClicked($event)"
    (shoutLoteria)="shoutLoteria()"
    (changeMarker)="showMarkerSelector.set(true)"
    (changeTabla)="showTablaSelector.set(true)"
    (goHome)="goHome()">
  </app-player-game-board>
</div>
