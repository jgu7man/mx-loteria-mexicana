<div class="manager-container min-h-screen bg-gradient-to-br from-blue-600 via-teal-500 to-green-600 p-8">
  <!-- Header -->
  <header class="flex justify-between items-center mb-2 p-2">
    <h1 class="text-2xl font-bold text-white drop-shadow-lg flex items-center gap-3">
      ğŸ™ï¸ Panel del GritÃ³n
    </h1>
    <button
      (click)="goHome()"
      class="bg-white/90 backdrop-blur-sm text-gray-700 px-6 py-2 rounded-3xl font-semibold hover:bg-white transition shadow-lg"
    >
      â† Volver
    </button>
  </header>

  <!-- Not authenticated -->
  <div *ngIf="!isAuthenticated()" class="text-center">
    <div class="bg-white rounded-3xl p-6 max-w-md mx-auto">
      <h2 class="text-2xl font-bold text-gray-800 mb-6">
        Inicia sesiÃ³n para crear salas
      </h2>
      <button
        (click)="signInWithGoogle()"
        class="bg-indigo-600 text-white px-8 py-3 rounded-3xl font-semibold hover:bg-indigo-700 transition shadow-lg"
      >
        ğŸ” Iniciar sesiÃ³n con Google
      </button>
    </div>
  </div>

  <!-- Authenticated - No room -->
  <div *ngIf="isAuthenticated() && !room()">
    <app-manager-room-list
      [managerRooms]="managerRooms()"
      [loadingRooms]="loadingRooms()"
      [currentUser]="currentUser()"
      (roomSelected)="selectRoom($event)"
      (createRoom)="handleCreateRoom($event)"
    >
    </app-manager-room-list>
  </div>

  <!-- Room active -->
  <div *ngIf="room()">
    <app-manager-game-panel
      [room]="room()!"
      [participants]="participants()"
      [currentRoundWinners]="currentRoundWinners()"
      (startRound)="startRound()"
      (nextCard)="nextCard()"
      (copyInviteLink)="copyInviteLink()"
      (showQRCode)="showQRCode()"
      (openInvitePage)="openInvitePage()"
      (showCardHistory)="showCardHistory()"
      (finishRound)="finishRound()"
      (deleteRoom)="deleteRoom()"
      (reviewParticipant)="reviewParticipant($event)"
    >
    </app-manager-game-panel>
  </div>
</div>

<!-- Modal de revisiÃ³n de tabla -->
<app-manager-review-modal
  [reviewingParticipant]="reviewingParticipant()"
  [playedCards]="playedCards()"
  [isOpen]="isReviewModalOpen()"
  (approveWinner)="approveWinner()"
  (rejectWinner)="rejectWinner()"
  (closeModal)="clearReview()"
>
</app-manager-review-modal>
