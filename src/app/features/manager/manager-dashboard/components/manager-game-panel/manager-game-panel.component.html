<!-- Banner de Juego Terminado -->
<app-game-finished-banner *ngIf="room.state === 'finished'">
</app-game-finished-banner>

<!-- LAYOUT PRINCIPAL RESPONSIVO -->
<div class="grid grid-cols-1 md:grid-cols-12 gap-6">
  <!-- COLUMNA 1: Controles e Info -->
  <div
    class="md:col-span-5 xl:col-span-3 space-y-4 order-3 md:order-3 xl:order-1 h-min"
  >
    <!-- Stats del Room -->
    <app-game-stats></app-game-stats>

    <!-- Controles -->
    <app-game-controls
      (copyInviteLink)="copyInviteLink.emit()"
      (showQRCode)="showQRCode.emit()"
      (openInvitePage)="openInvitePage.emit()"
      (showCardHistory)="showCardHistory.emit()"
      (changeDifficulty)="changeDifficulty.emit()"
      (finishRound)="finishRound.emit()"
      (deleteRoom)="deleteRoom.emit()"
    >
    </app-game-controls>
  </div>

  <!-- COLUMNA 2: Área de Juego -->
  <div class="md:col-span-7 xl:col-span-6 order-1 md:order-1 xl:order-2 h-min">
    <app-active-card-display
      (startRound)="startRound.emit()"
      (nextCard)="nextCard.emit()"
    >
    </app-active-card-display>
  </div>

  <!-- COLUMNA 3: Info Auxiliar -->
  <div
    class="md:col-span-5 xl:col-span-3 space-y-4 order-2 md:order-2 xl:order-3 h-min"
  >
    <!-- Próxima Carta (Privada) -->
    <app-next-card-preview
      [card]="nextCardPreview()"
      [mode]="'private'"
      [title]="'SIGUIENTE'"
      [subtitle]="'LISTA PARA CANTAR'"
    >
    </app-next-card-preview>

    <!-- Lista de Verificación -->
    <app-verification-list (reviewParticipant)="reviewParticipant.emit($event)">
    </app-verification-list>

    <!-- Lista de Jugadores -->
    <app-player-list
      [players]="players()"
      [variant]="'compact'"
      [maxHeight]="'max-h-[300px]'"
      [showPhotos]="false"
    >
    </app-player-list>
  </div>
</div>
