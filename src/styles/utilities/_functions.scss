// ================================
// UTILITY FUNCTIONS
// ================================

@use 'sass:math';
@use '../atoms/variables' as *;

// Convert px to rem
@function rem($pixels, $base: 16px) {
  @return math.div($pixels, $base) * 1rem;
}

// Get color with opacity
@function color-alpha($color, $alpha) {
  @return rgba($color, $alpha);
}

// Calculate responsive value
@function fluid($min, $max, $min-vw: 320px, $max-vw: 1280px) {
  $u1: unit($min);
  $u2: unit($max);
  $u3: unit($min-vw);
  $u4: unit($max-vw);

  @if $u1 == $u2 and $u3 == $u4 {
    @return calc(#{$min} + #{strip-unit($max - $min)} * ((100vw - #{$min-vw}) / #{strip-unit($max-vw - $min-vw)}));
  }
}

// Strip unit from value
@function strip-unit($number) {
  @if type-of($number) == 'number' and not unitless($number) {
    @return math.div($number, ($number * 0 + 1));
  }

  @return $number;
}

// Get spacing value by key
@function spacing($key) {
  $spacings: (
    '0': $spacing-0,
    '1': $spacing-1,
    '2': $spacing-2,
    '3': $spacing-3,
    '4': $spacing-4,
    '5': $spacing-5,
    '6': $spacing-6,
    '8': $spacing-8,
    '10': $spacing-10,
    '12': $spacing-12,
    '16': $spacing-16,
    '20': $spacing-20,
    '24': $spacing-24,
  );

  @return map-get($spacings, $key);
}

// Get shadow by level
@function shadow($level) {
  $shadows: (
    'sm': $shadow-sm,
    'base': $shadow-base,
    'md': $shadow-md,
    'lg': $shadow-lg,
    'xl': $shadow-xl,
    '2xl': $shadow-2xl,
  );

  @return map-get($shadows, $level);
}
